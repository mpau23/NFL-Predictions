NflPredictionsApp.controller("GamesCtrl",["$scope","$http","$q","Game",function(e,t,a,n){e.games,e.getGames=function(){var a=new Array;t.get("/api/game").then(function(t){angular.forEach(t.data,function(e,t){date=new Date(e.date),date.setHours(date.getHours()+5),a.push(new n(e._id,e.week,date.toString(),"",e.awayTeam._id,e.homeTeam._id))}),e.games=a})},e.pushGames=function(){var e,a,o=new Array;t.get("/json/nfl-fixtures.json").then(function(r){e=r.data.Schedule,a=r.data.centerIds;var m,s,i=0;angular.forEach(e,function(e,t){angular.forEach(a,function(t,a){t.week===e.gameWeek&&(m=t),angular.forEach(m.games,function(t,a){t.home===e.homeTeam&&(s=t.id)})}),m.games[i]||(i=0),o.push(new n(s,e.gameWeek,e.gameDate,e.gameTimeET,e.awayTeam,e.homeTeam)),i++}),angular.forEach(o,function(e,a){t.post("/api/game",{id:e.id,week:e.week,homeTeam:e.homeTeamId,awayTeam:e.awayTeamId,date:e.date+" "+e.time})})})}}]),NflPredictionsApp.controller("RootCtrl",["$scope",function(e){e.author="Miren Pau"}]),NflPredictionsApp.controller("TeamsCtrl",["$scope","$http","Team",function(e,t,a){function n(){var e,n=new Array;return t.get("/json/nfl-teams.json").then(function(t){e=t.data.NFLTeams,angular.forEach(e,function(e,t){n.push(new a(e.code,e.fullName))})}),n}e.teams=n()}]),NflPredictionsApp.controller("TeamsCtrl",["$scope","$http","Team",function(e,t,a){function n(){var e,n=new Array;return t.get("/json/nfl-teams.json").then(function(t){e=t.data.NFLTeams,angular.forEach(e,function(e,t){n.push(new a(e.code,e.shortName,e.fullName))})}),n}e.teams=n()}]),NflPredictionsApp.factory("Game",function(){var e=function(e,t,a,n,o,r){this.id=e,this.week=t,this.date=a,this.time=n,this.awayTeamId=o,this.homeTeamId=r};return e}),NflPredictionsApp.factory("Team",function(){var e=function(e,t,a){this.code=e,this.shortName=t,this.fullName=a};return e}),NflPredictionsApp.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){a.html5Mode(!0),t.otherwise("/"),e.state("home",{name:"home",url:"/",templateUrl:"views/home.html",controller:"RootCtrl"}).state("teams",{name:"home.teams",url:"/teams",templateUrl:"views/teams.html",controller:"TeamsCtrl"}).state("games",{name:"home.games",url:"/games",templateUrl:"views/games.html",controller:"GamesCtrl"})}]);